# Loon ä»€é”¦é…ç½®
# 2022.01.31
# Make by Ison 

[General]
# IPv6 æ”¯æŒ
ipv6 = false
# > è·³è¿‡æŸä¸ªåŸŸåæˆ–è€…IPæ®µ
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,localhost,*.local,passenger.t3go.cn,passenger.t3go.cn
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32
# DNS æœåŠ¡å™¨
dns-server = system,119.29.29.29,114.114.114.114,223.5.5.5
# Wi-Fi è®¿é—®
# > å…è®¸ Wi-Fi ç½‘ç»œä¸‹å…¶å®ƒè®¾å¤‡è®¿é—®
allow-udp-proxy = false
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socket5-port = 7221
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://www.gstatic.com/generate_204
# > æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 5
# > è§£å†³ä¸€äº›ipè¯·æ±‚æ— æ³•åŒ¹é…åŸŸåç±»è§„åˆ™çš„é—®é¢˜ã€‚real-ipæŒ‡å®šçš„åŸŸåå°†ä¸è¿”å›fake ipå“åº”ï¼Œç›´æ¥å°†dnsè¯·æ±‚å‘å¾€ç›®æ ‡dnsæœåŠ¡å™¨
real-ip = msftconnecttest.com, msftncsi.com, *.msftconnecttest.com, *.msftncsi.com, *.srv.nintendo.net, *.stun.playstation.net, xbox.*.microsoft.com, *.xboxlive.com, *.battlenet.com.cn, *.battlenet.com, *.blzstatic.cn, *.battle.net
# è§£æå™¨
resource-parser = https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/scripts/sub-store-parser.js
# ssid-triggerå‚æ•°ï¼Œç”¨äºæŒ‡å®šSSIDä¸‹æµé‡æ¨¡å¼åˆ‡æ¢ï¼Œï¼ˆdefaultè¡¨ç¤ºé»˜è®¤ï¼Œcellularè¡¨ç¤ºèœ‚çªï¼Œç›®å‰æ”¯æŒä¸‰ç§å€¼ï¼šruleï¼Œdirectï¼Œproxyï¼‰ 
# ssid-trigger="default":rule,"cellular":rule,"ASUS":direct,"TPLINK":proxy 

[Host]

[Proxy]

[Remote Proxy]

[Proxy Group]
èŠ‚ç‚¹é€‰æ‹© = select,è‡ªåŠ¨ç­›é€‰,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Rocket.png
è‡ªåŠ¨ç­›é€‰ = url-test,MiaoZ!,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Auto.png
è‹¹æœæœåŠ¡ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png
å›½å¤–åª’ä½“ = select,èŠ‚ç‚¹é€‰æ‹©,ç‹®åŸèŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/ForeignMedia.png
æ¸¯å°ç•ªå‰§ = select,DIRECT,å°æ¹¾èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png
æ¼ç½‘ä¹‹é±¼ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/YoYu.png
é¦™æ¸¯èŠ‚ç‚¹ = url-test,é¦™æ¸¯,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png
å°æ¹¾èŠ‚ç‚¹ = url-test,å°æ¹¾,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png
ç‹®åŸèŠ‚ç‚¹ = url-test,æ–°åŠ å¡,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/JP.png
æ—¥æœ¬èŠ‚ç‚¹ = url-test,æ—¥æœ¬,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/SG.png
ç¾å›½èŠ‚ç‚¹ = url-test,ç¾å›½,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/US.png

[Remote Filter]
é¦™æ¸¯ = NameRegex, FilterKey = "(?i)(æ¸¯|HK|Hong)"
å°æ¹¾ = NameRegex, FilterKey = "(?i)(å°|TW|Tai)"
æ—¥æœ¬ = NameRegex, FilterKey = "(?i)(æ—¥æœ¬|å·æ—¥|ä¸œäº¬|å¤§é˜ª|æ³‰æ—¥|åŸ¼ç‰|æ²ªæ—¥|æ·±æ—¥|JP|Japan)"
éŸ©å›½ = NameRegex, FilterKey = "(?i)(KR|Korea|KOR|é¦–å°”|éŸ©|éŸ“)"
ç¾å›½ = NameRegex, FilterKey = "(?i)(ç¾|æ³¢ç‰¹å…°|è¾¾æ‹‰æ–¯|ä¿„å‹’å†ˆ|å‡¤å‡°åŸ|è´¹åˆ©è’™|ç¡…è°·|æ‹‰æ–¯ç»´åŠ æ–¯|æ´›æ‰çŸ¶|åœ£ä½•å¡|åœ£å…‹æ‹‰æ‹‰|è¥¿é›…å›¾|èŠåŠ å“¥|US|United States)"
æ–°åŠ å¡ = NameRegex, FilterKey = "(?i)(æ–°åŠ å¡|å¡|ç‹®åŸ|SG|Singapore)"
ç½‘æ˜“è§£é” = NameRegex, FilterKey = "(?i)(unblock|music|Music|äº‘éŸ³ä¹|ğŸ§)"

[Remote Rule]
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Advertising/Advertising.list, policy=REJECT, tag=å¹¿å‘Šæ‹¦æˆª, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/China/China.list, policy=DIRECT, tag=å›½å†…ç›´è¿, parser-enable=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Apple/Apple.list, policy=è‹¹æœæœåŠ¡, tag=è‹¹æœæœåŠ¡, parser-enable=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/BiliBili/BiliBili.list, policy=æ¸¯å°ç•ªå‰§, tag=æ¸¯å°ç•ªå‰§, parser-enable=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/GlobalMedia/GlobalMedia.list, policy=å›½å¤–åª’ä½“, tag=å›½å¤–åª’ä½“, parser-enable=true, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Global/Global.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å…¨çƒåŠ é€Ÿ, parser-enable=true, enabled=true

[Rule]
DOMAIN-KEYWORD,cn-hk-eq-bcache-,æ¸¯å°ç•ªå‰§
DOMAIN,www.bilibili.com,æ¸¯å°ç•ªå‰§
DOMAIN,upos-hz-mirrorakam.akamaized.net,æ¸¯å°ç•ªå‰§
DOMAIN,m.bilibili.com,æ¸¯å°ç•ªå‰§
DOMAIN,grpc.biliapi.net,æ¸¯å°ç•ªå‰§
DOMAIN,app.bilibili.com,æ¸¯å°ç•ªå‰§
DOMAIN,api.bilibili.com,æ¸¯å°ç•ªå‰§
DOMAIN,api.biliapi.net,æ¸¯å°ç•ªå‰§
DOMAIN,rsshub.app,èŠ‚ç‚¹é€‰æ‹©
GEOIP,CN,DIRECT
FINAL,æ¼ç½‘ä¹‹é±¼

[URL Rewrite]
enable = false
# äº¬ä¸œæ¯”ä»·Fix
^https?:\/\/api\.m\.jd.com\/client\.action\?functionId=start reject-200

[Remote Rewrite]

[Script]
http-response ^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/(pgc\/view\/v\d\/app\/season|x\/v\d\/search\/defaultwords)\?access_key script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js, requires-body=true, timeout=10, tag=biliè‡ªåŠ¨åœ°åŒº
#å¯é€‰, é€‚ç”¨äºæœç´¢æŒ‡å®šåœ°åŒºçš„ç•ªå‰§
http-request ^https:\/\/ap(p|i)\.bili(bili|api)\.(com|net)\/x\/v\d\/search(\/type)?\?.+?%20(%E6%B8%AF|%E5%8F%B0|%E4%B8%AD)& script-path=https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js, requires-body=true, timeout=10, tag=biliè‡ªåŠ¨åœ°åŒº(æœç´¢)

enable = false
generic script-path=https://raw.githubusercontent.com/Tartarus2014/Script/master/stream-ui-check.js, tag=æµåª’ä½“-è§£é”æŸ¥è¯¢, img-url=checkmark.seal.system

[Remote Script]
https://raw.githubusercontent.com/NobyDa/Script/master/Surge/JS/Bili_Auto_Regions.js, tag=bilibilæ¢åŒº, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Fake_Vip.conf, tag=Fake-VIP, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Cookie.conf, tag=Cookie.è·å–å®Œä¸€å®šè¦å…³é—­, enabled=false
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Task.conf, tag=Task, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Script.conf, tag=Script, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/JD.conf, tag=JD, enabled=false

[Plugin]
https://raw.githubusercontent.com/VirgilClyne/iRingo/main/plugin/Siri_Suggestions.plugin, tag=Siriä¸æœç´¢, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zhihu/zhihu_plus.lnplugin, tag=çŸ¥ä¹åŠ©æ‰‹, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Advertising/Advertising.plugin, tag=é»‘çŸ©é˜µå»å¹¿å‘Š, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Redirect/Redirect.plugin, tag=é»‘çŸ©é˜µé‡å®šå‘, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/TF-Download.plugin, tag=TF-åŒºåŸŸè§£é™¤, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/Host.plugin, tag=Host, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.loon.tf.plugin, tag=Boxjs, enabled=true
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Plugin/Unlock/TikTokJP.plugin, policy=æ—¥æœ¬èŠ‚ç‚¹, tag=Tiktok, enabled=false
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/Loon.plugin, tag=è®¢é˜…è§£æå™¨, enabled=false

[MITM]
skip-server-cert-verify = true
