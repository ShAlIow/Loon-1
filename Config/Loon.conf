# Loon Config
# Update Date: 2022.08.20
# author: Coldvvater
# GitHubä¸»é¡µ: https://github.com/Coldvvater
# TG Channel: https://t.me/Ison_Channel
# å…·ä½“è¯­æ³•å’Œæ ¼å¼å‚è€ƒï¼šhttps://github.com/Loon0x00/LoonExampleConfig

# è‡ªé€‰GEOIPåº“å¯ä»¥ä½¿ç”¨: https://raw.githubusercontent.com/Loyalsoldier/geoip/release/Country.mmdb
# > é€šç”¨è®¾ç½®
[General]
# > IPv6 æ”¯æŒ
ipv6 = false
# > è·³è¿‡æŸä¸ªåŸŸåæˆ–è€…IPæ®µ
skip-proxy = 127.0.0.1,192.168.0.0/16,10.0.0.0/8,172.16.0.0/12,100.64.0.0/10,localhost,*.local,passenger.t3go.cn,passenger.t3go.cn
bypass-tun = 10.0.0.0/8,100.64.0.0/10,127.0.0.0/8,169.254.0.0/16,172.16.0.0/12,192.0.0.0/24,192.0.2.0/24,192.88.99.0/24,192.168.0.0/16,198.18.0.0/15,198.51.100.0/24,203.0.113.0/24,224.0.0.0/4,255.255.255.255/32
# > DNS æœåŠ¡å™¨
dns-server = system,119.29.29.29,114.114.114.114,223.5.5.5
# > DoH æœåŠ¡å™¨
doh-server = https://dns.alidns.com/dns-query
# > Wi-Fi è®¿é—®
# > å…è®¸ Wi-Fi ç½‘ç»œä¸‹å…¶å®ƒè®¾å¤‡è®¿é—®
allow-udp-proxy = false
allow-wifi-access = false
wifi-access-http-port = 7222
wifi-access-socket5-port = 7221
# > ä»£ç†æµ‹é€Ÿ URL
proxy-test-url = http://cp.cloudflare.com/generate_204
# > æµ‹é€Ÿè¶…æ—¶ (s)
test-timeout = 5
# > è§£æå™¨
resource-parser = https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/backend/dist/sub-store-parser.loon.min.js
# ssid-triggerå‚æ•°ï¼Œç”¨äºæŒ‡å®šSSIDä¸‹æµé‡æ¨¡å¼åˆ‡æ¢ï¼Œï¼ˆdefaultè¡¨ç¤ºé»˜è®¤ï¼Œcellularè¡¨ç¤ºèœ‚çªï¼Œç›®å‰æ”¯æŒä¸‰ç§å€¼ï¼šruleï¼Œdirectï¼Œproxyï¼‰ 
# ssid-trigger="default":rule,"cellular":rule,"ASUS":direct,"TPLINK":proxy 
# > æ¥å£æ¨¡å¼
interface-mode = auto

[Host]
#å¯ä»¥æŒ‡å®šä¸€ä¸‹å››ç§æ¨¡å¼ï¼š
#1ã€æŒ‡å®šåŸŸåä½¿ç”¨å¯¹åº”çš„IPåœ°å€
#2ã€å°†åŸŸåæŒ‡å‘å¦ä¸€ä¸ªåŸŸå
#3ã€æŒ‡å®šåŸŸåè¯·æ±‚DNSæ—¶ä½¿ç”¨ç‰¹å®šçš„DNSæœåŠ¡å™¨ï¼Œæ ¼å¼ä¸ºï¼šgoogle.com = server:8.8.8.8 æˆ–è€… *.baidu.com = server:https://example.com/dns-query
#4ã€æŒ‡å®šå…·ä½“çš„SSIDç¯å¢ƒä¸‹ä½¿ç”¨ç‰¹å®šçš„DNSæœåŠ¡å™¨ï¼Œå¦‚ï¼š
#ssid:LOON's WIFI = server:system
#ssid:LOON WIFI = server:https://example.com/dns-query
*.tw = server:1.1.1.1
*testflight.apple.com = server:8.8.4.4
apple.com = server:223.5.5.5
*.apple.com = server:223.5.5.5
appsto.re = server:223.5.5.5
*.appsto.re = server:223.5.5.5
aaplimg.com = server:223.5.5.5
*.aaplimg.com = server:223.5.5.5
apple-dns.net = server:223.5.5.5
*.apple-dns.net = server:223.5.5.5
apple.co = server:223.5.5.5
*.apple.co = server:223.5.5.5
applestore.com = server:223.5.5.5
*.applestore.com = server:223.5.5.5
apple.com.cn = server:223.5.5.5
*.apple.com.cn = server:223.5.5.5
cdn-apple.com = server:223.5.5.5
*.cdn-apple.com = server:223.5.5.5
apple-cloudkit.com = server:223.5.5.5
*.apple-cloudkit.com = server:223.5.5.5
crashlytics.com = server:223.5.5.5
*.crashlytics.com = server:223.5.5.5
icloud.com = server:223.5.5.5
*.icloud.com = server:223.5.5.5
icloud.com.cn = server:223.5.5.5
*.icloud.com.cn = server:223.5.5.5
icloud-content.com = server:223.5.5.5
*.icloud-content.com = server:223.5.5.5
me.com = server:223.5.5.5
*.me.com = server:223.5.5.5
mzstatic.com = server:223.5.5.5
*.mzstatic.com = server:223.5.5.5
organicfruitapps.com = server:223.5.5.5
*.organicfruitapps.com = server:223.5.5.5
apple.com.akadns.net = server:223.5.5.5
*.apple.com.akadns.net = server:223.5.5.5
icloud.com.akadns.net = server:223.5.5.5
*.icloud.com.akadns.net = server:223.5.5.5
taobao.com = server:223.6.6.6
*.taobao.com = server:223.6.6.6
tmall.com = server:223.6.6.6
*.tmall.com = server:223.6.6.6
jd.com = server:119.29.29.29
*.jd.com = server:119.28.28.28
*.qq.com = server:119.28.28.28
*.tencent.com = server:119.28.28.28
*.alicdn.com = server:223.5.5.5
aliyun.com = server:223.5.5.5
*.aliyun.com = server:223.5.5.5
weixin.com = server:119.28.28.28
*.weixin.com = server:119.28.28.28
bilibili.com = server:119.29.29.29
*.bilibili.com = server:119.29.29.29
hdslb.com = server:119.29.29.29
163.com = server:119.29.29.29
*.163.com = server:119.29.29.29
126.com = server:119.29.29.29
*.126.com = server:119.29.29.29
*.126.net = server:119.29.29.29
*.127.net = server:119.29.29.29
*.netease.com = server:119.29.29.29
mi.com = server:119.29.29.29
*.mi.com = server:119.29.29.29
xiaomi.com = server:119.29.29.29
*.xiaomi.com = server:119.29.29.29
*.unicompayment.com = server:119.29.29.29
*.ximalaya.com = server:119.29.29.29
*.vercel.app = server:119.29.29.29
*.vercel.com = server:119.29.29.29
*.baidu.com = server:119.29.29.29
*.bdstatic.com = server:119.29.29.29
mtalk.google.com = 108.177.125.188
dl.google.com = server:119.29.29.29
dl.l.google.com = server:119.29.29.29

[Proxy]
# å†…ç½® DIRECTã€REJECT ç­–ç•¥
# å†…ç½® PROXY æŒ‡å‘æœ¬åœ°èŠ‚ç‚¹æˆ–è€…è®¢é˜…èŠ‚ç‚¹ä¸­çš„ä»»ä½•ä¸€ä¸ªï¼ˆæœ‰æœ¬åœ°èŠ‚ç‚¹é»˜è®¤æŒ‡å‘ç¬¬ä¸€ä¸ªæœ¬åœ°èŠ‚ç‚¹ï¼Œå½“æ²¡æœ‰æœ¬åœ°èŠ‚ç‚¹ä½†æœ‰è®¢é˜…èŠ‚ç‚¹æ—¶ï¼ŒæŒ‡å‘ç¬¬ä¸€ä¸ªè®¢é˜…çš„ç¬¬ä¸€ä¸ªèŠ‚ç‚¹ï¼Œæœ¬åœ°èŠ‚ç‚¹å’Œè®¢é˜…èŠ‚ç‚¹éƒ½ä¸å­˜åœ¨æ—¶æŒ‡å‘DIRECTï¼‰
#ss
#ss1 = Shadowsocks,example.com,443,aes-128-gcm,"password",fast-open=false,udp=true
[Remote Proxy]

[Proxy Group]
# ç­–ç•¥ç»„
èŠ‚ç‚¹é€‰æ‹© = select,è‡ªåŠ¨ç­›é€‰,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç‹®åŸèŠ‚ç‚¹,æ—¥æœ¬èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Rocket.png
è‡ªåŠ¨ç­›é€‰ = url-test,MiaoZ!,url = http://www.gstatic.com/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Auto.png
è‹¹æœæœåŠ¡ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/Apple.png
æ¸¯å°ç•ªå‰§ = select,DIRECT,å°æ¹¾èŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/bilibili.png
å›½é™…åª’ä½“ = select,èŠ‚ç‚¹é€‰æ‹©,ç‹®åŸèŠ‚ç‚¹,é¦™æ¸¯èŠ‚ç‚¹,å°æ¹¾èŠ‚ç‚¹,ç¾å›½èŠ‚ç‚¹,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/ForeignMedia.png
æ¼ç½‘ä¹‹é±¼ = select,DIRECT,èŠ‚ç‚¹é€‰æ‹©,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/YoYu.png
é¦™æ¸¯èŠ‚ç‚¹ = url-test,é¦™æ¸¯,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/HK.png
å°æ¹¾èŠ‚ç‚¹ = url-test,å°æ¹¾,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/TW.png
æ—¥æœ¬èŠ‚ç‚¹ = url-test,æ—¥æœ¬,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/JP.png
ç‹®åŸèŠ‚ç‚¹ = url-test,æ–°åŠ å¡,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/SG.png
ç¾å›½èŠ‚ç‚¹ = url-test,ç¾å›½,url = http://www.qualcomm.cn/generate_204,interval = 600,img-url = https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/mini/US.png

[Remote Filter]
# ç­›é€‰è®¢é˜…èŠ‚ç‚¹ï¼Œç­›é€‰åçš„ç»“æœå¯åŠ å…¥åˆ°ç­–ç•¥ç»„ä¸­ï¼Œç›®å‰æ”¯æŒä¸‰ç§ç­›é€‰æ–¹å¼
# NodeSelect: ä½¿ç”¨åœ¨UIä¸Šé€‰æ‹©çš„èŠ‚ç‚¹ã€‚
# NameKeyword: æ ¹æ®æä¾›çš„å…³é”®è¯å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰ï¼Œä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚
# NameRegex: æ ¹æ®æä¾›çš„æ­£åˆ™è¡¨è¾¾å¼å¯¹è®¢é˜…ä¸­æ‰€æœ‰èŠ‚ç‚¹çš„åç§°è¿›è¡Œç­›é€‰ï¼Œä½¿ç”¨ç­›é€‰åçš„èŠ‚ç‚¹ã€‚
#Netflix = NodeSelect,Subs
#Hulu = NameKeyword,Subs,Subs2,FilterKey = Hulu
é¦™æ¸¯ = NameRegex, FilterKey = "(?i)(æ¸¯|ğŸ‡­ğŸ‡°|HK|Hong)"
å°æ¹¾ = NameRegex, FilterKey = "(?i)(å°|ğŸ‡¨ğŸ‡³|ğŸ‡¹ğŸ‡¼|æ¹¾|TW|Taiwan)"
æ—¥æœ¬ = NameRegex, FilterKey = "(?i)(æ—¥|ğŸ‡¯ğŸ‡µ|ä¸œäº¬|JP|Japan)"
ç¾å›½ = NameRegex, FilterKey = "(?i)(ç¾|ğŸ‡ºğŸ‡²|US|States|American)"
æ–°åŠ å¡ = NameRegex, FilterKey = "(?i)(æ–°åŠ å¡|å¡|ç‹®åŸ|ğŸ‡¸ğŸ‡¬|SG|Singapore)"

[Remote Rule]
# Remote Rule
# è®¢é˜…è§„åˆ™URL,ç­–ç•¥
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Direct/Direct.list, policy=DIRECT, tag=è§„åˆ™ä¿®æ­£, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Advertising/Advertising.list, policy=REJECT, tag=å¹¿å‘Šæ‹¦æˆª, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Advertising/Advertising_Domain.list, policy=REJECT, tag=å¹¿å‘Šæ‹¦æˆª, enabled=true
https://raw.githubusercontent.com/Semporia/Loon/master/Rule/TikTok.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å›½å¤–æŠ–éŸ³, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/GlobalMedia/GlobalMedia.list, policy=å›½é™…åª’ä½“, tag=å›½é™…åª’ä½“, enabled=true
https://raw.githubusercontent.com/DivineEngine/Profiles/master/Surge/Ruleset/StreamingMedia/StreamingSE.list, policy=æ¸¯å°ç•ªå‰§, tag=æ¸¯å°ç•ªå‰§, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å…¨çƒåŠ é€Ÿ, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Proxy/Proxy_Domain.list, policy=èŠ‚ç‚¹é€‰æ‹©, tag=å…¨çƒåŠ é€Ÿ, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rule/Loon/Apple/Apple.list, policy=è‹¹æœæœåŠ¡, tag=è‹¹æœæœåŠ¡, enabled=true
https://raw.githubusercontent.com/VirgilClyne/VirgilClyne/main/modules/ASN/ASN.China.list, policy=DIRECT, tag=ASN_China, enabled=true

[Rule]
# æœ¬åœ°è§„åˆ™
# Type:DOMAIN-SUFFIX,DOMAIN,DOMAIN-KEYWORD,USER-AGENT,URL-REGEX,IP-CIDR
# Strategy:DIRECT,Proxy,REJECT
# Options:no-resolve(no-resolve(only for cidr))
DOMAIN,rsshub.app,èŠ‚ç‚¹é€‰æ‹©
DOMAIN-SUFFIX,local,DIRECT
IP-CIDR,0.0.0.0/8,no-resolve
IP-CIDR,10.0.0.0/8,no-resolve
IP-CIDR,100.64.0.0/10,no-resolve
IP-CIDR,127.0.0.0/8,no-resolve
IP-CIDR,169.254.0.0/16,no-resolve
IP-CIDR,172.16.0.0/12,no-resolve
IP-CIDR,192.0.0.0/24,no-resolve
IP-CIDR,192.0.2.0/24,no-resolve
IP-CIDR,192.168.0.0/16,no-resolve
IP-CIDR,192.88.99.0/24,no-resolve
IP-CIDR,198.18.0.0/15,no-resolve
IP-CIDR,198.51.100.0/24,no-resolve
IP-CIDR,203.0.113.0/24,no-resolve
IP-CIDR,224.0.0.0/3,no-resolve
IP-CIDR6,::1/128,no-resolve
IP-CIDR6,fc00::/7,no-resolve
IP-CIDR6,fe80::/10,no-resolve
FINAL,æ¼ç½‘ä¹‹é±¼

[URL Rewrite]
# é‡å†™è§„åˆ™

[Remote Rewrite]
# è®¢é˜… URL Rewrite
# è®¢é˜…url,åˆ«å(å¯é€‰)

[Script]
# http-request å¤„ç†è¯·æ±‚çš„è„šæœ¬
# http-response å¤„ç†è¯·æ±‚å“åº”çš„è„šæœ¬
# cron å®šæ—¶è„šæœ¬
# network-changed   ç½‘ç»œå‘ç”Ÿå˜åŒ–è§¦å‘è„šæœ¬
# generic  é€šç”¨å‹è„šæœ¬ï¼Œå¯ç”¨åœ¨æ“ä½œèŠ‚ç‚¹/ç­–ç•¥ç»„ä¸­ï¼Œæ‰§è¡Œæ˜¯ä¼šå¸¦å…¥èŠ‚ç‚¹åç§°å’Œç­–ç•¥ç»„åç§°ï¼Œè„šæœ¬å¿…é¡»åœ¨å¼€å¯NEæ—¶

generic script-path=https://raw.githubusercontent.com/Loon0x00/LoonScript/main/MediaCheck/check.js, tag=æµåª’ä½“-è§£é”æŸ¥è¯¢, img-url=checkmark.seal.system

[Remote Script]
# è®¢é˜…è„šæœ¬
https://raw.githubusercontent.com/Tartarus2014/Loon-Script/master/Cookie.conf, tag=GetCookie, enabled=false

[Plugin]
# plugin-url tag=tag,proxy=æ’ä»¶ä¸­PROXYæ‰€æŒ‡å‘çš„ç­–ç•¥,enable=true
# pluginç­–ç•¥å¯è®¾ç½®ä¸ºDIRECT,REJECT,PROXYï¼Œå…¶ä¸­PROXYä¸ºç”¨æˆ·åœ¨appä¸­æ‰‹åŠ¨æ˜ å°„çš„ç­–ç•¥ï¼Œruleåä¸è·Ÿéšç­–ç•¥é»˜è®¤ä½¿ç”¨PROXY
https://raw.githubusercontent.com/Coldvvater/Loon/master/Plugin/Q-Search.plugin, tag=Q-Search, enabled=true
https://raw.githubusercontent.com/Coldvvater/Loon/master/Plugin/Bili_Auto_Regions.plugin, tag=bilibiliè‡ªåŠ¨æ¢åŒº, enabled=true
https://raw.githubusercontent.com/Semporia/TikTok-Unlock/master/Loon/TikTokJP.plugin, policy=èŠ‚ç‚¹é€‰æ‹©, tag=TikTokè§£é”, img-url=https://raw.githubusercontent.com/Koolson/Qure/master/IconSet/Color/TikTok_1.png, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/Loon/Loon_TF_Account.plugin, tag=TestFlightè´¦æˆ·ç®¡ç†, enabled=true
https://raw.githubusercontent.com/NobyDa/Script/master/Loon/Loon_TF_Download.plugin, tag=TestFlightè§£é™¤åŒºåŸŸé™åˆ¶, enabled=false
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/script/zhihu/zhihu_plus.lnplugin, tag=çŸ¥ä¹åŠ©æ‰‹Plus, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Advertising/Advertising.plugin, tag=å»å¹¿å‘Šå¤å†™, enabled=true
https://raw.githubusercontent.com/blackmatrix7/ios_rule_script/master/rewrite/Loon/Redirect/Redirect.plugin, tag=é‡å®šå‘, enabled=true
https://raw.githubusercontent.com/chavyleung/scripts/master/box/rewrite/boxjs.rewrite.loon.tf.plugin, tag=BoxJs, enabled=true
https://raw.githubusercontent.com/Peng-YM/Sub-Store/master/config/Loon.plugin, tag=é«˜çº§è®¢é˜…å·¥å…·, enabled=true

[MITM]
skip-server-cert-verify = true
